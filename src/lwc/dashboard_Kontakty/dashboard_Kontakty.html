<!--
 - Created by matistikoff on 21. 7. 2022.
 -->

<!-- Dashboard Kontakty -->
<template>


    <div class="container">

        <div class="rows">
            <h2 class="row1">Kontakty</h2>
        </div>


        <div class="rows">

            <h2 class="text1">Primárny</h2>
            <span class="image " title="Description of icon when needed">
                <svg class="slds-icon slds-icon_large" aria-hidden="true">
                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#image"></use>
                </svg>
                <span class="slds-assistive-text">Description of icon when needed</span>
            </span>
            <template if:true={mainContactData}>
                <template for:each={mainContactData} for:item="acc">
                    <h2 class="text2" key={acc.Id}>{acc.Name}</h2>
                    <h2 class="text3" key={acc.Id}>{acc.Type}</h2>
                    <a class="text3" key={acc.Id} href="mailto:fjuran@parallaxis.io">{acc.PersonEmail}</a>
                    <h2 class="text3 gap" key={acc.Id}>{acc.Phone}</h2>
                </template>
            </template>
        </div>


        <div class="rows">
            <button class="button2" onclick={openNKModal}>+ Nový account</button>
            <template if:true={openModal}>
                <c-custom-modal onclose={closeNKModal}>

                    <c-dashboard_-kontakty_-novy flat-i-d={flatID} onclosekontakt={closeNKModal}>

                    </c-dashboard_-kontakty_-novy>

                </c-custom-modal>
            </template>
        </div>

        <div class="rows">
            <h2 class="row1 small">Všetky kontakty:</h2>
            <button class="button2" onclick={openNModal}>+ Nový kontakt</button>
            <template if:true={openxModal}>
                <c-custom-modal onclose={closeNModal}>

                    <c-novy-related-contact flat-i-d={flatID} oncloserelkontakt={closeNModal}></c-novy-related-contact>

                </c-custom-modal>
            </template>
        </div>


        <div class="contacts">
            <template if:true={flatContactsData}>
                <template for:each={flatContactsData} for:item="contacts">
             <span class="image-small" key={contacts.Id} title="Description of icon when needed">
                  <svg class="slds-icon" aria-hidden="true">
                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#image"></use>
                  </svg>
             </span>

                    <h2 class="meno" key={contacts.Id}>{contacts.Name}</h2>
                    <h2 class="role" key={contacts.Id}></h2>
                </template>
            </template>

        </div>

        <div class="empty">

        </div>

        <div class="rows">
            <button class="button1">Link pre klienta</button>
            <button class="button2" onclick={openIEModal}>Inicializačný email ></button>
            <template if:true={openieModal}>
                <c-custom-modal onclose={closeIEModal}>

                    <c-dashboard_-kontakty_-email></c-dashboard_-kontakty_-email>

                </c-custom-modal>
            </template>
        </div>

        <div class="empty1">

        </div>

        <div class="rows">
            <p2 class="last">Inicializačný email nebol poslaný</p2>
        </div>

    </div>
</template>